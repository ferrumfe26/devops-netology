Домашнее задание к занятию "4.1. Командная оболочка Bash: Практические навыки"

###### Обязательная задача 1

Есть скрипт:

a=1<br>
b=2<br>
c=a+b<br>
d=$a+$b<br>
e=$(($a+$b))<br>

Какие значения переменным c,d,e будут присвоены? Почему?<br>
Переменная 	Значение 	Обоснование<br>
c 	           a+b 	      строковые значения<br>
d 	           1+2  	  обращение к переменным, но без операции сложения<br>
e 	            3  	      арифметическая операция $(())<br>

###### Обязательная задача 2

На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность,<br>
записывая дату проверок до тех пор, пока сервис не станет доступным (после чего скрипт должен завершиться).<br>
В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:

     while ((1==1)) #забыта скобка

       do
	     curl https://localhost:4757
	     if (($? != 0))
         then
    	    date > curl.log    # перезаписываем текст, чтобы не занимать место на диске.
         else
            break    #выход их цикла, если сервис доступен
	     fi
    done

###### Обязательная задача 3<br>

Необходимо написать скрипт, который проверяет доступность трёх IP:<br>
192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log.<br>
Проверять доступность необходимо пять раз для каждого узла.<br>

Ваш скрипт:

  vagrant@node1:~$ cat hosts_check

    hosts=(192.168.0.1 173.194.222.113 87.250.250.24)

     for i in {0..4}
      do
        for h in ${hosts[@]}
          do
              curl -Is --connect-timeout 3 $h:80 >/dev/null
                echo `date` $h status=$? >>hosts.log
          done
       done



###### Обязательная задача 4

Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор,<br>
пока один из узлов не окажется недоступным.<br>
Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается.<br>

Ваш скрипт:


    hosts=(87.250.250.24 192.168.0.1 173.194.222.113)

    for i in {0..4}
       do
        for d in ${hosts[@]}
          do
              curl -Is --connect-timeout 3 $d:80 >/dev/null
              stat=$?
               if (($stat== 0))
               then
                echo `date` $d OK >>host_log.log
              else
               echo `date` $d Error >>host_err.log
               exit 1
           fi
          done
       done